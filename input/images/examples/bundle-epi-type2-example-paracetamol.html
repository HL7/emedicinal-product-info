<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WonderDrug 500 mg - ePI</title>
    <link rel="stylesheet" href="../epi-styles.css">
    <style>
        :root {
            --background-color: #ffffff;
            --text-color: #1d1d1f;
            --secondary-text-color: #86868b;
            --accent-color: #0071e3;
            --card-background: #f5f5f7;
            /* Soft gray instead of white */
            --card-border-color: #d2d2d7;
            /* Apple system gray 4 equivalent */
            --card-border-radius: 20px;
            --section-spacing: 40px;
            /* Reduced spacing */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.47059;
            font-weight: 400;
            letter-spacing: -0.022em;
            margin: 0;
            padding: 0;
            -webkit-font-smoothing: antialiased;
        }

        .container {
            max-width: 980px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Header styles updated for Card look */
        header {
            text-align: center;
            /* Removed border and internal spacing that conflates with card padding */
        }

        h1 {
            font-size: 48px;
            line-height: 1.08349;
            font-weight: 600;
            letter-spacing: -0.003em;
            margin-bottom: 10px;
            margin-top: 0;
        }

        .subtitle {
            font-size: 24px;
            line-height: 1.16667;
            font-weight: 600;
            letter-spacing: .009em;
            color: var(--secondary-text-color);
        }

        .section-title {
            font-size: 32px;
            line-height: 1.125;
            font-weight: 600;
            letter-spacing: .004em;
            margin-bottom: 30px;
            margin-top: 0;
        }

        .card-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 24px;
            /* Increased gap */
        }

        .card {
            background-color: var(--card-background);
            border: none;
            /* Removed border */
            border-radius: var(--card-border-radius);
            padding: 30px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            position: relative;
            /* overflow: hidden; - Removed to allow nested stickiness if needed, or shadows */
            margin-bottom: var(--section-spacing);
        }

        /* Removed hover effect for layout cards to avoid distraction */
        /* .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.05);
        } */

        /* Inner Cards (White) */
        .inner-card,
        .leaflet-card {
            background-color: #ffffff;
            border-radius: 16px;
            padding: 24px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.04);
            margin-bottom: 20px;
        }

        /* Color Accents - applied to inner cards now if needed, or mapped differently */
        .inner-card {
            position: relative;
            overflow: hidden;
        }

        .inner-card::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 6px;
        }

        .card-details::before {
            background-color: #0071e3;
        }

        .card-auth::before {
            background-color: #34c759;
        }

        .card-pack::before {
            background-color: #af52de;
        }

        .card-phys::before {
            background-color: #ff9500;
        }


        .card h3 {
            font-size: 20px;
            /* Slightly smaller, more refined */
            line-height: 1.2;
            font-weight: 600;
            margin-top: 0;
            margin-bottom: 20px;
            color: var(--text-color);
            display: flex;
            align-items: center;
        }

        /* .card h3::after removed */

        .data-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 14px;
            /* More spacing */
            font-size: 15px;
            /* Larger font */
        }


        .data-label {
            color: var(--secondary-text-color);
            font-weight: 500;
        }

        .data-value {
            font-weight: 600;
            text-align: right;
            color: var(--text-color);
        }

        .narrative-content {
            font-size: 17px;
            line-height: 1.5;
            font-weight: 400;
            /* margin-bottom: var(--section-spacing); */
        }

        .badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            background-color: #1d1d1f;
            color: #fff;
            font-size: 13px;
            font-weight: 600;
        }

        .pill {
            background-color: #e8e8ed;
            color: var(--text-color);
            padding: 4px 12px;
            border-radius: 12px;
            font-size: 13px;
            font-weight: 500;
            display: inline-block;
        }

        /* Product Details Wrapper Styles */

        .product-details-wrapper>summary {
            margin-bottom: 20px;
        }

        .product-details-wrapper>summary::-webkit-details-marker {
            display: none;
        }

        .product-details-wrapper>summary::after {
            content: '+';
            float: right;
            font-weight: 300;
            transform: rotate(0deg);
            transition: transform 0.2s;
        }

        .product-details-wrapper[open]>summary::after {
            transform: rotate(45deg);
        }

        /* Accordion Styles (Inner) */
        .product-accordion {
            background-color: #fff;
            border: 1px solid #d2d2d7;
            /* Explicit border */
            border-radius: 12px;
            margin-bottom: 20px;
            /* Spacing between accordions */
            overflow: hidden;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.02);
            /* Subtle shade */
        }

        .product-summary {
            padding: 20px 24px;
            cursor: pointer;
            list-style: none;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid transparent;
            /* Hidden by default */
            font-weight: 600;
            font-size: 20px;
            /* Slightly smaller than main header */
            color: var(--text-color);
            margin-bottom: 0;
            /* Reset margin */
            transition: background-color 0.2s;
            background-color: #fbfbfd;
            /* Slight shading for header */
        }

        .product-summary:hover {
            background-color: #f5f5f7;
        }

        .product-accordion[open] .product-summary {
            border-bottom: 1px solid #e5e5e5;
        }

        .product-summary::-webkit-details-marker {
            display: none;
        }

        .product-summary::after {
            content: '+';
            font-size: 28px;
            font-weight: 200;
            color: var(--secondary-text-color);
            transition: transform 0.3s;
        }

        .product-accordion[open] .product-summary::after {
            transform: rotate(45deg);
        }

        .product-details-content {
            padding: 24px;
            background-color: #fff;
        }

        .product-name {
            color: var(--text-color);
        }

        .product-status {
            font-size: 14px;
            color: #34c759;
            background: rgba(52, 199, 89, 0.1);
            padding: 4px 10px;
            border-radius: 12px;
            margin-left: 15px;
            vertical-align: middle;
            font-weight: 600;
        }

        /* Leaflet specific styles */


        .leaflet-section h2 {
            font-size: 22px;
            font-weight: 600;
            margin-bottom: 15px;
            margin-top: 0;
            color: #1d1d1f;
        }

        .leaflet-section p {
            margin-bottom: 1em;
        }

        .leaflet-section p:last-child {
            margin-bottom: 0;
        }

        /* Tablet Visual in Physics Card */
        .tablet-visual {
            width: 80px;
            height: 80px;
            background-color: #fff;
            border: 2px solid #e5e5e5;
            border-radius: 50%;
            margin: 20px auto;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
        }
    </style>
</head>

<body>

    <div class="layout-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <h2>Navigation</h2>
            <nav>
                <ul class="nav-list">
                    <li class="nav-item"><a href="#document" class="nav-link active">Document</a></li>
                    <li class="nav-item"><a href="#leaflet" class="nav-link">Composition</a></li>
                    <li class="nav-item"><a href="#products" class="nav-link">Product Details</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Document Card (Header) -->
            <section id="document" class="card card-document">
                <h1>WonderDrug</h1>
                <div style="font-size: 20px; color: var(--secondary-text-color); font-weight: 600;">
                    100 mg, 200 mg and 500 mg tablets
                </div>

                <div class="metadata-grid">
                    <div class="metadata-item">
                        <span class="metadata-label">Status</span>
                        <span class="metadata-value"><span class="item-status"
                                style="margin-left:0">Active</span></span>
                    </div>
                    <div class="metadata-item">
                        <span class="metadata-label">Version</span>
                        <span class="metadata-value">1.4</span>
                    </div>
                    <div class="metadata-item">
                        <span class="metadata-label">Language</span>
                        <span class="metadata-value">English (EN)</span>
                    </div>
                    <div class="metadata-item">
                        <span class="metadata-label">Type</span>
                        <span class="metadata-value">ePI Type 2</span>
                    </div>
                </div>

                <div style="margin-top: 24px;">
                    <span class="badge">Prescription Only</span>
                </div>
            </section>

            <!-- Leaflet Card (Composition) - Now Collapsible -->
            <details id="leaflet" class="card card-composition" open>
                <summary>
                    <h2 class="section-title">Composition</h2>
                </summary>
                <div class="card-content">
                    <div class="narrative-content">
                        <div class="leaflet-section leaflet-card">
                            <h3>1. What WonderDrug is and what it is used for</h3>
                            <p>WonderDrug contains the active substance paracetamol. It is an analgesic and antipyretic
                                medicine.</p>
                            <p>WonderDrug is used for the symptomatic treatment of mild to moderate pain and/or fever.
                            </p>
                        </div>

                        <div class="leaflet-section leaflet-card">
                            <h3>2. What you need to know before you take WonderDrug</h3>
                            <p><strong>Do not take WonderDrug:</strong></p>
                            <ul>
                                <li>If you are allergic to paracetamol or any of the other ingredients of this medicine.
                                </li>
                            </ul>
                        </div>

                        <div class="leaflet-section leaflet-card">
                            <h3>3. How to take WonderDrug</h3>
                            <p>The recommended dose is 1 tablet every 4 to 6 hours as needed. Do not exceed 6 tablets in
                                24
                                hours.</p>
                        </div>

                        <div class="leaflet-section leaflet-card">
                            <h3>4. Possible side effects</h3>
                            <p>Like all medicines, this medicine can cause side effects, although not everybody gets
                                them.
                            </p>
                        </div>
                    </div>
                </div>
            </details>

            <!-- Product Details Card - Now Collapsible -->
            <details id="products" class="card card-products" open>
                <summary>
                    <h2 class="section-title">Product Details</h2>
                </summary>
                <div class="card-content">
                    <!-- Product 1: 500 mg -->
                    <details class="accordion-item" open>
                        <summary class="accordion-summary">
                            <div>
                                Paracetamol 500 mg tablets
                                <span class="item-status">Active</span>
                            </div>
                        </summary>

                        <div class="accordion-content">
                            <div class="clinical-grid">
                                <!-- Ingredients -->
                                <div class="inner-card">
                                    <h3 style="color: var(--accent-color); margin-top:0">Ingredients</h3>
                                    <div class="data-row">
                                        <span class="data-label">Active Substance</span>
                                        <span class="data-value">Paracetamol</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Strength</span>
                                        <span class="data-value">500 mg</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Form</span>
                                        <span class="data-value">Tablet</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Route</span>
                                        <span class="data-value">Oral use</span>
                                    </div>
                                    <div style="margin-top: 16px; padding-top: 12px; border-top: 1px solid #f2f2f7;">
                                        <div class="metadata-label" style="margin-bottom: 8px;">Full Ingredient List
                                        </div>
                                        <div style="font-size: 14px; line-height: 1.6;">
                                            Paracetamol, Pregelatinized starch, Povidone, Stearic acid, Talc, Magnesium
                                            stearate, Hypromellose.
                                        </div>
                                    </div>
                                </div>

                                <!-- Regulatory -->
                                <div class="inner-card">
                                    <h3 style="color: #34c759; margin-top:0">Regulatory Data</h3>
                                    <div class="data-row">
                                        <span class="data-label">Holder</span>
                                        <span class="data-value">Acme Pharma Inc.</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Number</span>
                                        <span class="data-value">MA-123456789</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Region</span>
                                        <span class="data-value">Estonia (EE)</span>
                                    </div>
                                </div>

                                <!-- Packaging -->
                                <div class="inner-card">
                                    <h3 style="color: #af52de; margin-top:0">Packaging</h3>
                                    <div class="data-row">
                                        <span class="data-label">Type</span>
                                        <span class="data-value">Box</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Content</span>
                                        <span class="data-value">1 x Blister</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Quantity</span>
                                        <span class="data-value">30 Tablets</span>
                                    </div>
                                </div>

                                <!-- Appearance -->
                                <div class="inner-card">
                                    <h3 style="color: #ff9500; margin-top:0">Appearance</h3>
                                    <div
                                        style="display: flex; justify-content: space-around; margin: 20px 0; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));">
                                        <!-- Front of tablet 3D SVG -->
                                        <svg width="80" height="80" viewBox="0 0 100 100">
                                            <defs>
                                                <radialGradient id="tabletGrad2" cx="40%" cy="40%" r="50%" fx="30%"
                                                    fy="30%">
                                                    <stop offset="0%" stop-color="#ffffff" />
                                                    <stop offset="100%" stop-color="#e5e5e7" />
                                                </radialGradient>
                                            </defs>
                                            <circle cx="50" cy="50" r="45" fill="url(#tabletGrad2)" stroke="#d2d2d7"
                                                stroke-width="0.5" />
                                            <ellipse cx="50" cy="48" rx="42" ry="40" fill="none" stroke="#ffffff"
                                                stroke-width="1.5" opacity="0.6" />
                                            <text x="50" y="55" font-family="Arial" font-size="10" font-weight="600"
                                                text-anchor="middle" fill="#86868b"
                                                style="text-transform: uppercase; letter-spacing: 1px;">FRONT</text>
                                        </svg>
                                        <!-- Back of tablet 3D SVG -->
                                        <svg width="80" height="80" viewBox="0 0 100 100">
                                            <circle cx="50" cy="50" r="45" fill="url(#tabletGrad2)" stroke="#d2d2d7"
                                                stroke-width="0.5" />
                                            <line x1="15" y1="50" x2="85" y2="50" stroke="#d2d2d7" stroke-width="1"
                                                stroke-dasharray="2,2" opacity="0.5" />
                                            <ellipse cx="50" cy="48" rx="42" ry="40" fill="none" stroke="#ffffff"
                                                stroke-width="1.5" opacity="0.6" />
                                            <text x="50" y="42" font-family="Arial" font-size="8" font-weight="600"
                                                text-anchor="middle" fill="#86868b">W-500</text>
                                            <text x="50" y="65" font-family="Arial" font-size="9" font-weight="bold"
                                                text-anchor="middle" fill="#86868b"
                                                style="text-transform: uppercase;">BACK</text>
                                        </svg>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Colour</span>
                                        <span class="data-value">White</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Shape</span>
                                        <span class="data-value">Round</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Flavour</span>
                                        <span class="data-value">None</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Size</span>
                                        <span class="data-value">12 mm</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Imprint</span>
                                        <span class="data-value">W-500</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </details>

                    <!-- Product 2: 100 mg -->
                    <details class="accordion-item">
                        <summary class="accordion-summary">
                            <div>
                                Paracetamol 100 mg tablets
                                <span class="item-status">Active</span>
                            </div>
                        </summary>
                        <div class="accordion-content">
                            <div class="clinical-grid">
                                <!-- Ingredients -->
                                <div class="inner-card">
                                    <h3 style="color: var(--accent-color); margin-top:0">Ingredients</h3>
                                    <div class="data-row">
                                        <span class="data-label">Active Substance</span>
                                        <span class="data-value">Paracetamol</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Strength</span>
                                        <span class="data-value">100 mg</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Form</span>
                                        <span class="data-value">Tablet</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Route</span>
                                        <span class="data-value">Oral use</span>
                                    </div>
                                    <div style="margin-top: 16px; padding-top: 12px; border-top: 1px solid #f2f2f7;">
                                        <div class="metadata-label" style="margin-bottom: 8px;">Full Ingredient List
                                        </div>
                                        <div style="font-size: 14px; line-height: 1.6;">
                                            Paracetamol, Pregelatinized starch, Povidone, Stearic acid, Talc, Magnesium
                                            stearate, Hypromellose.
                                        </div>
                                    </div>
                                </div>

                                <!-- Regulatory -->
                                <div class="inner-card">
                                    <h3 style="color: #34c759; margin-top:0">Regulatory Data</h3>
                                    <div class="data-row">
                                        <span class="data-label">Holder</span>
                                        <span class="data-value">Acme Pharma Inc.</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Number</span>
                                        <span class="data-value">PL 12345/6789</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Region</span>
                                        <span class="data-value">United Kingdom</span>
                                    </div>
                                </div>

                                <!-- Packaging -->
                                <div class="inner-card">
                                    <h3 style="color: #5856d6; margin-top:0">Packaging</h3>
                                    <div class="data-row">
                                        <span class="data-label">Type</span>
                                        <span class="data-value">Blister Pack</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Content</span>
                                        <span class="data-value">PVC/Aluminum</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Quantity</span>
                                        <span class="data-value">50 Tablets</span>
                                    </div>
                                </div>

                                <!-- Appearance -->
                                <div class="inner-card">
                                    <h3 style="color: #ff9500; margin-top:0">Appearance</h3>
                                    <div
                                        style="display: flex; justify-content: space-around; margin: 20px 0; filter: drop-shadow(0 10px 15px rgba(0,0,0,0.1));">
                                        <!-- Front of tablet 3D SVG -->
                                        <svg width="60" height="60" viewBox="0 0 100 100">
                                            <circle cx="50" cy="50" r="45" fill="url(#tabletGrad2)" stroke="#d2d2d7"
                                                stroke-width="0.5" />
                                            <ellipse cx="50" cy="48" rx="42" ry="40" fill="none" stroke="#ffffff"
                                                stroke-width="1.5" opacity="0.6" />
                                            <text x="50" y="55" font-family="Arial" font-size="10" font-weight="600"
                                                text-anchor="middle" fill="#86868b"
                                                style="text-transform: uppercase; letter-spacing: 1px;">FRONT</text>
                                        </svg>
                                        <!-- Back of tablet 3D SVG -->
                                        <svg width="60" height="60" viewBox="0 0 100 100">
                                            <circle cx="50" cy="50" r="45" fill="url(#tabletGrad2)" stroke="#d2d2d7"
                                                stroke-width="0.5" />
                                            <line x1="15" y1="50" x2="85" y2="50" stroke="#d2d2d7" stroke-width="1"
                                                stroke-dasharray="2,2" opacity="0.5" />
                                            <ellipse cx="50" cy="48" rx="42" ry="40" fill="none" stroke="#ffffff"
                                                stroke-width="1.5" opacity="0.6" />
                                            <text x="50" y="42" font-family="Arial" font-size="8" font-weight="600"
                                                text-anchor="middle" fill="#86868b">W-100</text>
                                            <text x="50" y="65" font-family="Arial" font-size="9" font-weight="bold"
                                                text-anchor="middle" fill="#86868b"
                                                style="text-transform: uppercase;">BACK</text>
                                        </svg>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Colour</span>
                                        <span class="data-value">White</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Shape</span>
                                        <span class="data-value">Round</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Flavour</span>
                                        <span class="data-value">None</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Size</span>
                                        <span class="data-value">6 mm</span>
                                    </div>
                                    <div class="data-row">
                                        <span class="data-label">Imprint</span>
                                        <span class="data-value">W-100</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </details>
                </div>
            </details>

            <footer
                style="text-align: center; color: var(--secondary-text-color); font-size: 12px; margin-top: 40px; border-top: 1px solid #d2d2d7; padding-top: 20px;">
                <p>ePI Type 2 Example • Generated from FHIR Bundle</p>
                <p>Identifier: WONDERDRUG-500MG-BUNDLE • Date: 2023-01-25</p>
            </footer>
        </main>
    </div>

    <script>
        // Simple active state tracker for sidebar
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.5
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    document.querySelectorAll('.nav-link').forEach(link => {
                        link.classList.toggle('active', link.getAttribute('href') === `#${entry.target.id}`);
                    });
                }
            });
        }, observerOptions);

        document.querySelectorAll('section[id], details[id]').forEach(section => observer.observe(section));
    </script>
</body>

</html>